(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,a){e.exports=a(42)},21:function(e,t,a){},22:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),i=a.n(c),l=(a(21),a(3)),s=a(2);a(6);var o=function(e){var t=e.item.name;return t.length>25&&(t=t.substring(0,25)+"..."),r.a.createElement("div",{className:"search-result d-flex",onClick:e.onClick},r.a.createElement("img",{src:e.item.img_url,alt:"",className:"artist-img"}),r.a.createElement("p",{className:"artist-name"},t))};a(22);var u=function(e){return r.a.createElement("div",{className:"selected-artist d-flex text-nowrap",onClick:e.onClick},r.a.createElement("img",{src:e.item.img_url,alt:"",className:"artist-img"}),r.a.createElement("p",null,e.item.name))};var m=function(e){var t=e.item.artist_name;t.length>25&&(t=t.substring(0,25)+"...");var a=e.item.track_name;return a.length>25&&(a=a.substring(0,25)+"..."),r.a.createElement("a",{href:e.item.track_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"rec search-result d-flex"},r.a.createElement("img",{src:e.item.img_url,alt:"",className:"track-img"}),r.a.createElement("div",{className:"d-flex flex-column track-info"},r.a.createElement("p",{className:"rec-track-name"},a),r.a.createElement("a",{href:e.item.artist_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("p",{className:"rec-artist-name"},t))),r.a.createElement("div",{class:"rec-arrow"})))},f=a(4),d=a.n(f);a(40);var E=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),f=Object(s.a)(i,2),E=f[0],g=f[1],v=Object(n.useState)([]),h=Object(s.a)(v,2),b=h[0],p=h[1],j=Object(n.useState)([]),O=Object(s.a)(j,2),k=O[0],x=O[1],N=Object(n.useState)(""),w=Object(s.a)(N,2),_=w[0],y=w[1],S=Object(n.useState)(""),C=Object(s.a)(S,2),B=C[0],T=C[1],I=Object(n.useState)(""),J=Object(s.a)(I,2),W=J[0],q=J[1];return Object(n.useEffect)((function(){if(""!==a){var e=setTimeout((function(){var e;e=a,d.a.post("/artists/query",{searchQuery:e}).then((function(e){g(e.data)})).catch((function(e){console.log(e)}))}),500);return function(){return clearTimeout(e)}}g([])}),[a]),Object(n.useEffect)((function(){E.err||y(E.map((function(e){return r.a.createElement(o,{item:e,key:e.id,onClick:function(){p((function(t){var a=Object(l.a)(t).filter((function(t){return t.id!==e.id}));return[].concat(Object(l.a)(a),[e])})),g([]),c(""),document.getElementById("search-bar").focus()}})})))}),[E]),Object(n.useEffect)((function(){if(T(b.map((function(e){return r.a.createElement(u,{item:e,key:e.id,onClick:function(){return p(Object(l.a)(b).filter((function(t){return t.id!==e.id})))}})}))),b.length>2){var e=b.map((function(e){return e.id}));d.a.post("/artists/get-results",e).then((function(t){var a=t.data.filter((function(t){return!e.includes(t.artist_id)})).slice(0,8);x(a)})).catch((function(e){console.log(e)}))}else x([])}),[b]),Object(n.useEffect)((function(){g([]),q(k.map((function(e){return r.a.createElement(m,{item:e,key:e.id})})))}),[k]),r.a.createElement("div",{id:"search-container",className:"d-flex flex-column align-self-center"},r.a.createElement("div",{className:"d-flex flex-wrap",id:"mapped-selects"},B),r.a.createElement("input",{id:"search-bar",type:"text",value:a,placeholder:"Search artists",onChange:function(e){c(e.target.value)}}),0!==E.length?r.a.createElement("div",null,_):0!==k.length?r.a.createElement("div",null,W):r.a.createElement("div",null,r.a.createElement("p",{className:"text-center text-muted",id:"placeholder-text"},"To get recommendations, select at least 3 artists.")))};a(41);var g=function(){return r.a.createElement("div",{className:"d-flex flex-column",id:"main-container"},r.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.26193f85.chunk.js.map